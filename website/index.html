<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link
  rel="stylesheet"
  href="https://necolas.github.io/normalize.css/8.0.1/normalize.css"
/>
<link rel="stylesheet" href="./assets/index.css" />
  <title>PlatziMediaPlayer.js</title>
</head>

  <body>
    <header>
      <h1>PlatziMediaPlayer.js</h1>
      <p>An extensible media player.</p>
    </header>

    <main class="container">
      <video class="movie">
        <source src="./assets/BigBuckBunny.mp4" />
      </video>

      <button id="playButton">Play/Pause</button>

      <button id="muteButton">Mute/Unmute</button>

      <p id="time">0:00</p>
    </main>

    <script>
      const video = document.querySelector("video");
      const playButton = document.querySelector("#playButton");
      const muteButton = document.querySelector("#muteButton");
      const timeElement = document.querySelector("#time");

      function MediaPlayer(config) {
        this.media = config.el;
      }
      
      MediaPlayer.prototype.play = function() {
          this.media.play();
      }

      MediaPlayer.prototype.pause = function() {
          this.media.pause();
      }

      MediaPlayer.prototype.mute = function() {
          this.media.muted = true;
      }

      MediaPlayer.prototype.unmute = function() {
          this.media.muted = false;
      }

      const player = new MediaPlayer({ el: video});
      playButton.onclick = () => {
        if (video.paused) {
          player.play();
        } else {
          player.pause();
        }
      }

      muteButton.onclick = () => {
        if (video.muted) {
          player.unmute();
        } else {
          player.mute();
        }
      }

      video.addEventListener("timeupdate", () => {
        timeElement.innerHTML = Math.floor(video.currentTime / 60) + ":" + 
        Math.floor(video.currentTime % 60);
      })
      </script>